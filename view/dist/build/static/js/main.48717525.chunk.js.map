{"version":3,"sources":["config.ts","Utils/utils.ts","Containers/Home/index.tsx","Containers/Vote/index.tsx","Containers/Create/index.tsx","Containers/Signin/index.tsx","Containers/Signup/index.tsx","Containers/Dashboard/index.tsx","App.tsx","index.tsx"],"names":["SERVER_URL","Min_Percentage_of_FontSize","primary_color","secondary_color","Is_Auth","QUESTION_KEY","POLL_KEY","saveQuestionId","id","localStorage","removeItem","setItem","getSavedQuestionId","getItem","undefined","savePollId","sendQuestionData","data","Promise","res","rej","fetch","method","mode","headers","credentials","body","JSON","stringify","then","fetch_res","json","res_json","catch","err","getQuestionData","vote","question_id","option_index","onInValidQuestionId","timeAgo","prevDate","ms","Date","getTime","seconds","Math","floor","minutes","hours","days","weeks","months","years","isMobile","userAgent","navigator","mobiles","i","length","match","setIsAuth","is_auth","getIsAuth","HomeComponent","lazy","fallback","CircularProgress","VoteComponent","CreateComponent","SignInComponent","SignUpComponent","DashboardComponent","App","theme","createTheme","palette","primary","main","secondary","handleFontSize","width","window","innerWidth","per","document","documentElement","style","fontSize","toString","setAuth","console","error","this","addEventListener","path","component","Vote","exact","Create","SignIn","SignUp","Dashboard","Home","React","Component","ReactDOM","hydrate","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.48717525.chunk.js","sourcesContent":["export var SERVER_URL = 'https://live-poll-app-server.herokuapp.com'\nif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n        SERVER_URL = 'http://localhost:5000'\n} else {\n    // production code\n}\nexport const Min_Percentage_of_FontSize = 75;\nexport const primary_color = '#9C19E0';\nexport const secondary_color = '#670FF7';\n","import { SERVER_URL } from \"../config\";\n\n// ? Local storage keys\nconst Is_Auth = 'is_auth'\n\nconst QUESTION_KEY = 'QUESTION_ID';\nconst POLL_KEY = 'POLL_KEY'\n\nexport const saveQuestionId = (id: string) => {\n    localStorage.removeItem(QUESTION_KEY);\n    localStorage.setItem(QUESTION_KEY, id);\n}\nexport const getSavedQuestionId = () => {\n    let id = localStorage.getItem(QUESTION_KEY);\n    return id ? id : undefined;\n}\n\n\nexport const savePollId = (id: string) => {\n    localStorage.removeItem(POLL_KEY);\n    localStorage.setItem(POLL_KEY, id);\n}\nexport const getSavedPollId = () => {\n    let id = localStorage.getItem(POLL_KEY);\n    return id ? id : undefined;\n}\n\nexport const sendQuestionData = (data: { options: string[], question: string }): Promise<any> => {\n\n    return new Promise((res, rej) => {\n        try {\n            fetch(`${SERVER_URL}/create`, { method: \"POST\", mode: 'cors', headers: { 'Content-Type': 'application/json' },credentials:'include', body: JSON.stringify(data) }).then(fetch_res => {\n                fetch_res.json().then(res_json => { res(res_json); });\n            }).catch(err => rej(err));\n        } catch (err) { rej(err); }\n    })\n\n}\n\nexport const getQuestionData = (id: string): Promise<Response> => {\n    return new Promise(function (res, rej) {\n        try {\n            fetch(`${SERVER_URL}/fetch_poll?id=${id}`, { method: \"GET\",credentials:'include', mode: 'cors' }).then(fetch_res => {\n                res(fetch_res);\n            }).catch(err => rej(err));\n        } catch (err) { rej(err); }\n    })\n}\n\nexport function vote(question_id: string, option_index: number, onInValidQuestionId?: Function): Promise<Response> {\n    return new Promise(function (res, rej) {\n        try {\n            fetch(`${SERVER_URL}/vote?question_id=${question_id}&option_index=${option_index}`,\n                { method: \"GET\", mode: 'cors',credentials:'include' })\n                .then(fetch_res => {\n                    res(fetch_res);\n                }).catch(\n                    err => {\n                        if (!err) {\n                            rej(); return\n                        };\n                        if (onInValidQuestionId) onInValidQuestionId();\n                        rej(err);\n                    });\n        }\n        catch (err) { rej(err) }\n    })\n}\nexport function check_vote(question_id: string): Promise<Response> {\n    return new Promise((res, rej) => {\n        try {\n            fetch(`${SERVER_URL}/check_vote`, { method: 'POST', mode: 'cors',credentials:'include', body: JSON.stringify({ question_id }) }).then(fetch_res => {\n                res(fetch_res);\n            }).catch(err => rej(err))\n        } catch (err) { rej(err); }\n    })\n}\n\nexport const timeAgo = (prevDate: Date): string => {\n    const ms = new Date().getTime() - prevDate.getTime();\n    const seconds = Math.floor(ms / 1000);\n\n    if (seconds < 2) { return \"a moment ago\"; };\n    if (seconds < 5) { return \"few moments ago\"; };\n    if (seconds < 60) { return `${seconds} seconds ago.`; };\n    const minutes = Math.floor(seconds / 60);\n    if (minutes < 60) {\n        if (minutes === 1) {\n            return `${minutes} minute ago`;\n        }\n        return `${minutes} minutes ago`;\n    };\n    const hours = Math.floor(minutes / 60);\n    if (hours < 24) {\n        if (hours === 1) {\n            return `${hours} hour ago`\n        }\n        return `${hours} hours ago`\n    }\n    const days = Math.floor(hours / 24);\n    if (days < 7) {\n        if (days === 1) { return `${days} day ago` }\n        return `${days} days ago`\n    }\n    const weeks = Math.floor(days / 7);\n    if (days < 30) {\n        if (weeks === 1) { return `${weeks} week ago` }\n        return `${weeks} weeks ago`\n    }\n    const months = Math.floor(days / 30);\n    if (months < 12) {\n        if (months === 1) {\n            return `${months} month ago`\n        }\n        return `${months} months ago`\n    }\n    const years = Math.floor(months / 12);\n    if (years === 1) {\n        return `${years} year ago`;\n    }\n    return `${years} years ago`;\n}\n\nexport function isMobile() {\n    let userAgent = navigator.userAgent;\n    let mobiles = ['Android', 'BlackBerry', 'iPhone', \"iPad\", \"iPod\", \"Opera Mini\", \"IEMobile\"]\n    for (let i = 0; i < mobiles.length; i++) {\n        if (userAgent.match(mobiles[i])) {\n            return true;\n        }\n    }\n    return false;\n\n};\n\nexport function setIsAuth(is_auth: boolean) {\n    if (is_auth) {\n        localStorage.setItem(Is_Auth, `${is_auth}`); return\n    }\n    localStorage.removeItem(Is_Auth);return;\n}\nexport function getIsAuth() {\n    return localStorage.getItem(Is_Auth) ? true : false;\n}\n","import { lazy, Suspense } from 'react';\nimport { CircularProgress } from '@mui/material'\nconst HomeComponent = lazy(() => import('./Home'));\n\nexport default function () {\n\n    return (\n        <Suspense fallback={<CircularProgress id='circular-loader'/>}>\n            <HomeComponent />\n        </Suspense>\n    )\n}","import { lazy, Suspense } from 'react';\nimport { CircularProgress } from '@mui/material'\nconst VoteComponent = lazy(() => import('./Vote'));\n\nexport default function () {\n\n    return (\n        <Suspense fallback={<CircularProgress id='circular-loader'/>}>\n            <VoteComponent />\n        </Suspense>\n    )\n}","import { lazy, Suspense } from 'react';\nimport { CircularProgress } from '@mui/material'\nconst CreateComponent = lazy(() => import('./Create'));\n\nexport default function () {\n\n    return (\n        <Suspense fallback={<CircularProgress id='circular-loader'/>}>\n            <CreateComponent />\n        </Suspense>\n    )\n}","import { lazy, Suspense } from 'react';\nimport { CircularProgress } from '@mui/material'\nconst SignInComponent = lazy(() => import('./Signin'));\n\nexport default function () {\n\n    return (\n        <Suspense fallback={<CircularProgress id='circular-loader'/>}>\n            <SignInComponent />\n        </Suspense>\n    )\n}","import { lazy, Suspense } from 'react';\nimport { CircularProgress } from '@mui/material'\nconst SignUpComponent = lazy(() => import('./Signup'));\n\nexport default function () {\n\n    return (\n        <Suspense fallback={<CircularProgress id='circular-loader'/>}>\n            <SignUpComponent />\n        </Suspense>\n    )\n}","import { lazy, Suspense } from 'react';\nimport { CircularProgress } from '@mui/material'\nconst DashboardComponent = lazy(() => import('./Dashboard'));\n\nexport default function () {\n\n    return (\n        <Suspense fallback={<CircularProgress id='circular-loader'/>}>\n            <DashboardComponent />\n        </Suspense>\n    )\n}","import { primary_color, secondary_color, Min_Percentage_of_FontSize, SERVER_URL } from './config';\nimport { Switch, BrowserRouter as Router, Route } from 'react-router-dom'\nimport Home from './Containers/Home';\nimport Vote from './Containers/Vote';\nimport Create from './Containers/Create';\nimport SignIn from './Containers/Signin'\nimport SignUp from './Containers/Signup'\nimport Dashboard from './Containers/Dashboard/'\nimport { createTheme } from '@mui/material';\nimport { ThemeProvider } from '@emotion/react';\nimport { setIsAuth as setAuth } from './Utils/utils';\nimport React from 'react';\nclass App extends React.Component {\n  theme = createTheme({\n    palette: {\n      mode: 'light',\n      primary:\n      {\n        main: primary_color\n      },\n      secondary:\n      {\n        main: secondary_color\n      }\n    }\n  })\n  componentDidMount() {\n    fetch(`${SERVER_URL}/is_auth`, { method: 'GET', credentials: 'include', mode: 'cors' }).then(fetch_res => fetch_res.json()).then(res_json => {\n      const is_auth = res_json.is_auth;\n      setAuth(is_auth);\n    }).catch(err => { console.error(err) })\n    this.handleFontSize()\n    window.addEventListener('resize', this.handleFontSize);\n  }\n\n  handleFontSize = () => {\n    let width = window.innerWidth;\n    if (width <= 1000) {\n      let per = Math.floor((width / 10) - 10);\n      if (per <= Min_Percentage_of_FontSize) { document.documentElement.style.fontSize = `${Min_Percentage_of_FontSize}%` }\n      else {\n        document.documentElement.style.fontSize = per.toString() + '%';\n      }\n    }\n  }\n  render() {\n    return (\n      <ThemeProvider theme={this.theme} >\n\n        <Router>\n          <Switch>\n            <Route path={'/vote'} component={Vote}></Route>\n            <Route path={'/share/vote'} component={Vote}></Route>\n            <Route exact path={'/create'} component={Create}></Route>\n            <Route exact path={'/signin'} component={SignIn}></Route>\n            <Route exact path={'/signup'} component={SignUp}></Route>\n            <Route exact path={'/dashboard'} component={Dashboard}></Route>\n            <Route exact path={'/home'} component={Home}></Route>\n            <Route exact path={'/'} component={Home}></Route>\n          </Switch>\n        </Router>\n\n      </ThemeProvider>\n\n    );\n  }\n}\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.hydrate(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}